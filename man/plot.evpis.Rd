% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot.evpis.R
\name{plot.evpis}
\alias{plot.evpis}
\title{Plot Expected Value of Perfect Information (EVPI)}
\usage{
\method{plot}{evpis}(
  data,
  color_by = NULL,
  shape_by = NULL,
  facet_by = NULL,
  mode = "Overall",
  filter_expr = NULL,
  facet_scales = "fixed",
  lambda_max = NULL,
  lambda_steps = 100,
  palette = "Dark2",
  shapes_palette = NULL,
  return_data = FALSE,
  ...
)
}
\arguments{
\item{data}{Either the output of \code{compute_icers} or a tibble
produced by \code{combine_icers_results}.}

\item{color_by}{Variable used for colour mapping. Use \code{"none"} to
disable colour mapping. Defaults to \code{"comparison"} unless
overridden by the user.}

\item{shape_by}{Variable used to distinguish groups using point shape.
Use \code{"none"} to disable shape mapping. Defaults to \code{"dataset"}
unless overridden.}

\item{facet_by}{Faceting directive. Options include
\code{"dataset"}, \code{"comparison"},
\code{"subgroup_var"}, \code{"subgroup_level"},
or \code{"subgroup"} to construct a grid of subgroup-variable Ã—
subgroup-level. Use \code{"none"} to disable faceting.}

\item{mode}{Either \code{"Overall"} or \code{"Subgroups"}, controlling
which subset of results is shown.}

\item{filter_expr}{Optional tidyverse-style filtering expression applied
before plotting.}

\item{facet_scales}{Passed to ggplot2 faceting functions.}

\item{lambda_max}{Optional upper limit for the WTP axis. When \code{NULL},
a heuristic based on the distribution of \eqn{|Delta_Cost / Delta_Effect|}
is used to provide a robust default.}

\item{lambda_steps}{Number of WTP evaluation points used to compute EVPI.}

\item{palette}{Colour palette name or vector passed to
\code{ce_plot_base}.}

\item{shapes_palette}{Optional object of class \code{"cea_shapes"}
defining custom shape values for point layers.}

\item{return_data}{Logical; if \code{TRUE}, a tibble containing EVPI values
is returned instead of a plot.}

\item{...}{Additional graphical parameters passed to point layers.}
}
\value{
A \code{ggplot} object or a tibble with EVPI values when
\code{return_data = TRUE}.
}
\description{
Produces EVPI curves across a sequence of willingness-to-pay (WTP)
thresholds using bootstrap replicates generated by \code{compute_icers}.
The EVPI corresponds to the difference between the expected value under
perfect information and the expected value under current uncertainty,
computed here for each analysis group represented in the bootstrap
replicates.
}
\details{
The function supports multi-strategy analyses, multiple datasets, subgroup
structures and full user override of aesthetics. The graphical architecture
is fully aligned with the internal layout engine \code{ce_plot_base},
ensuring consistent palette behaviour, facet rules, legend logic and
tidy-style filtering across all CEAgroupR visualizations.
}
