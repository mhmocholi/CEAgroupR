% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/combine_icers_results.R
\name{combine_icers_results}
\alias{combine_icers_results}
\title{Combine Bootstrap Replicates from Cost-Effectiveness Analyses}
\usage{
combine_icers_results(...)
}
\arguments{
\item{...}{One or more objects returned by \code{\link{compute_icers}},
including objects of class \code{cea_results} or
\code{cea_results_list}. If a single \code{cea_results_list} object is
supplied, its elements are automatically expanded.}
}
\value{
A tibble containing bootstrap replicates with one row per replicate and
comparison, and the following key columns:
\itemize{
\item \code{dataset}: Dataset or scenario identifier.
\item \code{subgroup_var}: Subgroup variable name ("Overall" if none).
\item \code{subgroup_level}: Subgroup level as a factor ("Overall" if none).
\item \code{comparison}: Strategy comparison.
\item \code{group_uid}: Hierarchical identifier combining dataset,
subgroup and comparison.
\item \code{replicate}: Bootstrap draw index.
\item Incremental and absolute outcome measures such as
\code{Delta_Cost}, \code{Delta_Effect}, \code{ICER},
and \code{NMB_*} columns.
}
}
\description{
Utility function that aggregates bootstrap replicates generated by
\code{\link{compute_icers}} into a single tidy data frame suitable for
downstream visualization and post-processing. This function provides the
standardized data structure consumed by all graphical functions in
CEAgroupR.
}
\details{
The function supports results obtained from single- or multi-dataset
analyses, including explicit subgroup-level results. When multiple datasets
(e.g. base case and alternative scenarios) are present, bootstrap replicates
are combined across datasets while preserving dataset identity and full
analytical traceability.

Subgroup variables and subgroup levels are normalized as factors to ensure
consistent behaviour in faceting, grouping and aesthetic mappings.

In typical workflows, users do not need to call this function explicitly,
as it is invoked internally by \code{compute_icers}. It is exposed primarily
to support advanced use cases, custom post-processing, or integration with
external visualization and reporting tools.
}
\examples{
## Example 1: Extract combined bootstrap replicates from a CEA analysis
res <- compute_icers(
  data      = cua_base,
  group     = "group",
  cost      = "cost_total",
  effect    = "effect",
  ref_group = "g0",
  R         = 50,
  seed      = 123
)

boot_df <- combine_icers_results(res)
head(boot_df)

## Example 2: Multi-dataset analysis (base case and discounted scenario)
data_list <- list(
  base_case        = cua_multi,
  discounted_case = cua_multi_discounted
)

res_multi <- compute_icers(
  data      = data_list,
  group     = "group",
  cost      = "cost_total",
  effect    = "effect",
  ref_group = "usual_care",
  R         = 50,
  seed      = 123
)

boot_multi <- combine_icers_results(res_multi)
dplyr::count(boot_multi, dataset)

}
